(this["webpackJsonptrain-tracker-frontend"]=this["webpackJsonptrain-tracker-frontend"]||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),r=n.n(c),o=n(12),i=n.n(o),s=(n(131),n(132),n(28)),l=n(199),u=n(221),j=n(38),d=n(22),b=n(196);function h(){var e=Object(d.b)().logout;return Object(a.jsx)(b.a,{variant:"outlined",onClick:function(){return e({returnTo:window.location.origin})},children:"Log Out"})}var O={logOut:j.d},x=Object(s.b)((function(e){return{user:e.users.user}}),O)((function(e){e.user,e.logOut;var t=Object(d.b)().isAuthenticated;return Object(a.jsx)("div",{children:Object(a.jsx)(l.a,{children:Object(a.jsxs)(u.a,{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(a.jsx)(u.a,{children:Object(a.jsx)("h2",{children:"Train Tracker"})}),t?Object(a.jsx)(u.a,{children:Object(a.jsx)(h,{})}):Object(a.jsx)(u.a,{})]})})})})),f=n(19),g=n.n(f),p=n(34),m=n(201),v=n(202),w=n(203),k=n(204),y=n(205),S=n(200),C=(n(161),Object(S.a)({tableContainer:{alignSelf:"center"},table:{maxWidth:750,margin:"0 auto 30px",alignSelf:"center",border:"2px solid black",boxShadow:"0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)"},tableHead:{backgroundColor:"black"}}));function T(e){var t=C();return Object(a.jsx)(m.a,{className:t.tableContainer,children:Object(a.jsxs)(v.a,{className:t.table,size:"small","aria-label":"a dense table",children:[Object(a.jsx)(w.a,{className:t.tableHead,children:Object(a.jsx)(k.a,{children:e.columnTitles})}),Object(a.jsx)(y.a,{children:0===e.rows.length?"No results":e.rows.map((function(e){return Object(a.jsx)(k.a,{hover:!0,children:e},e.i)}))})]})})}var N=n(25),R=n(220),E=Object(S.a)({loginFields:{margin:"1rem"},loginFailed:{color:"red"}}),W={logIn:j.c},F=(Object(s.b)((function(e){return{loginFailed:e.users.loginFailed}}),W)((function(e){var t=r.a.useState(!0),n=Object(N.a)(t,2),o=(n[0],n[1],r.a.useState("")),i=Object(N.a)(o,2),s=i[0],l=i[1],j=r.a.useState(""),d=Object(N.a)(j,2),h=d[0],O=d[1],x=e.logIn,f=e.loginFailed,g=E();Object(c.useEffect)((function(){}));var p=function(){x({username:s,password:h})},m=function(){var e=!0;return s&&h&&(e=!1),e},v=function(e){"Enter"!=e.key||m()||p()};return Object(a.jsxs)(u.a,{children:[Object(a.jsx)(u.a,{children:"Please log in to continue."}),f?Object(a.jsx)(u.a,{className:g.loginFailed,children:"Incorrect username or password"}):null,Object(a.jsx)(u.a,{className:g.loginFields,children:Object(a.jsx)(R.a,{autofocus:!0,id:"username",label:"Username",type:"text",fullwidth:!0,onChange:function(e){l(e.target.value)},onKeyPress:v})}),Object(a.jsx)(u.a,{className:g.loginFields,children:Object(a.jsx)(R.a,{id:"password",label:"Password",type:"password",fullwidth:!0,onChange:function(e){O(e.target.value)},onKeyPress:v})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(b.a,{onClick:p,disabled:m(),color:"inherit",variant:"outlined",children:"Submit"})})]})})),n(81)),I=n(54),L=n.n(I),D=n(211),_=n(224),B=n(226),U=n(212),A=n(213),P=n(206),G=n(207),q=n(229),z=n(210),K=n(225),H=n(214),M=n(227),Y=n(223),J=n(35),Q=n(107),V=n.n(Q),Z=n(106),$=n.n(Z),X=Object(S.a)({wType:{marginTop:"20px"},wDesc:{marginBottom:"20px"},addButton:{marginRight:"5px"},refreshButton:{marginLeft:"5px"}}),ee={getWorkouts:J.b},te=Object(s.b)((function(e){return{state:e,user:e.users.user}}),ee)((function(e){var t,n=e.getWorkouts,c=Object(d.b)(),o=c.user,i=c.isAuthenticated,s=(c.isLoading,c.getAccessTokenSilently),l=X(),j=r.a.useState(!1),h=Object(N.a)(j,2),O=h[0],x=h[1],f=r.a.useState((function(){var e=new Date,t=""+(e.getMonth()+1),n=""+e.getDate(),a=""+e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[a,t,n].join("-")})),m=Object(N.a)(f,2),v=m[0],w=m[1],k=r.a.useState(""),y=Object(N.a)(k,2),S=y[0],C=y[1],T=r.a.useState(""),E=Object(N.a)(T,2),W=E[0],I=E[1],J=r.a.useState(!1),Q=Object(N.a)(J,2),Z=Q[0],ee=Q[1],te=r.a.useState(!1),ne=Object(N.a)(te,2),ae=ne[0],ce=ne[1],re=r.a.useState(!1),oe=Object(N.a)(re,2),ie=oe[0],se=oe[1],le=r.a.useState(!1),ue=Object(N.a)(le,2),je=ue[0],de=ue[1],be=["Weights","Functional Fitness","Rowing","Run","Hockey","Basketball"],he=function(){x(!1)},Oe=function(e){var t=e.user,a=e.date,c=e.type,r=e.description,o=e.sauna,i=e.meditation,s=e.token;L.a.post("/workouts/new",{user:t,date:a,type:c,description:r,sauna:o,meditation:i},{headers:{Authorization:"Bearer ".concat(s)}}).then((function(e){de(!0),se(!0),n(t,s)})).catch((function(e){de(!1),se(!0),console.log("ERROR",e)}))},xe=function(e){return function(t){switch(e){case"meditation":ee(t.target.checked);break;case"sauna":ce(t.target.checked)}}};return Object(a.jsxs)("div",{children:[Object(a.jsxs)(B.a,{open:O,onClose:he,className:l.dialogSizing,children:[Object(a.jsx)(U.a,{children:"Log Workout"}),Object(a.jsxs)(A.a,{children:[Object(a.jsx)(R.a,{id:"date",type:"date",color:"inherit",value:v,onChange:function(e){w(e.target.value)},fullWidth:!0}),Object(a.jsxs)(P.a,(t={component:"fieldset",className:"radio-button-section"},Object(F.a)(t,"className",l.wType),Object(F.a)(t,"children",[Object(a.jsx)(G.a,{component:"legend",color:"inherit",children:"Type"}),Object(a.jsx)(q.a,{name:"Type",value:S,onChange:function(e){C(e.target.value)},children:function(){var e=[];return be.forEach((function(t){e.push(Object(a.jsx)(D.a,{value:t,control:Object(a.jsx)(_.a,{color:"inherit"}),label:t,labelPlacement:"start"}))})),e}()}),Object(a.jsx)(z.a,{})]),t)),Object(a.jsx)("div",{}),Object(a.jsx)(R.a,{id:"description",label:"Description",type:"text",color:"inherit",value:W,onChange:function(e){I(e.target.value)},fullWidth:!0,className:l.wDesc}),Object(a.jsx)("div",{}),Object(a.jsx)(D.a,{value:"end",control:Object(a.jsx)(K.a,{color:"inherit",onChange:xe("sauna")}),label:"Sauna",labelPlacement:"end"}),Object(a.jsx)("div",{}),Object(a.jsx)(D.a,{value:"end",control:Object(a.jsx)(K.a,{color:"inherit",onChange:xe("meditation")}),label:"Meditation",labelPlacement:"end"})]}),Object(a.jsxs)(H.a,{children:[Object(a.jsx)(b.a,{onClick:he,color:"inherit",children:"Cancel"}),Object(a.jsx)(b.a,{onClick:function(){(x(!1),console.log("date",v),console.log("type",S),console.log("desc",W),console.log("meditation",Z),console.log("sauna",ae),i&&o&&o.name)&&function(){var e=Object(p.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({audience:"api.traintracker.com",scope:"read:workouts"});case 2:t=e.sent,console.log("token",t),Oe({user:o.name,date:v,type:S,description:W,meditation:Z,sauna:ae,token:t});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},color:"inherit",children:"Submit"})]})]}),Object(a.jsxs)(u.a,{children:[Object(a.jsx)(b.a,{onClick:function(){x(!0)},variant:"outlined",startIcon:Object(a.jsx)($.a,{}),className:l.addButton,children:"Log Workout"}),Object(a.jsx)(b.a,{onClick:function(){i&&o&&o.name&&function(){var e=Object(p.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({audience:"api.traintracker.com",scope:"read:workouts"});case 2:t=e.sent,console.log("token",t),n(o.name,t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},variant:"outlined",startIcon:Object(a.jsx)(V.a,{}),className:l.refreshButton,children:"Refresh"})]}),Object(a.jsx)(M.a,{open:ie,autoHideDuration:5e3,onClose:function(e,t){"clickaway"!==t&&se(!1)},anchorOrigin:{horizontal:"center",vertical:"top"},children:je?Object(a.jsx)(Y.a,{severity:"success",variant:"filled",children:"Workout successfully added"}):Object(a.jsx)(Y.a,{severity:"error",variant:"filled",children:"ERROR: Workout NOT added"})})]})})),ne=n(215),ae=n(216),ce=n(16);function re(){var e=Object(d.b)().loginWithRedirect;return Object(a.jsx)(b.a,{variant:"outlined",onClick:function(){return e()},children:"Log In"})}var oe={getWorkouts:J.b},ie=Object(s.b)((function(e){return{state:e,user:e.users.user,workouts:e.workouts.workouts,loading:e.workouts.loading}}),oe)((function(e){var t=e.workouts,n=e.loading,r=e.getWorkouts,o=Object(d.b)(),i=o.user,s=o.isAuthenticated,l=o.isLoading,j=o.getAccessTokenSilently;Object(c.useEffect)((function(){s&&i&&i.name&&function(){var e=Object(p.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({audience:"api.traintracker.com",scope:"read:workouts"});case 2:t=e.sent,console.log("token",t),r(i.name,t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i]);var b=[Object(a.jsx)(ne.a,{style:{color:"white"},children:"Date"}),Object(a.jsx)(ne.a,{style:{color:"white"},align:"left",children:"Type"}),Object(a.jsx)(ne.a,{style:{color:"white"},align:"left",children:"Description"}),Object(a.jsx)(ne.a,{style:{color:"white"},align:"left",children:"Sauna?"}),Object(a.jsx)(ne.a,{style:{color:"white"},align:"left",children:"Meditation?"})],h=[];return console.log("mpa workouts",t),t&&t.forEach((function(e){var t=[Object(a.jsx)(ne.a,{children:e.wdate}),Object(a.jsx)(ne.a,{align:"left",children:e.type}),Object(a.jsx)(ne.a,{align:"left",children:e.description}),Object(a.jsx)(ne.a,{align:"left",children:e.sauna?"Yes":"No"}),Object(a.jsx)(ne.a,{align:"left",children:e.meditation?"Yes":"No"})];h.push(t)})),Object(a.jsx)("div",{children:Object(a.jsx)(u.a,{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",children:Object(a.jsxs)(ce.d,{children:[Object(a.jsx)(ce.b,{exact:!0,path:"/",children:Object(a.jsx)(ce.a,{to:"/login"})}),Object(a.jsxs)(ce.b,{path:"/login",children:["Please log in to continue.",Object(a.jsx)(u.a,{height:"100%",margin:"30px 0 30px",children:Object(a.jsx)(re,{})})]}),Object(a.jsx)(ce.b,{path:"/workouts",children:s?Object(a.jsx)(u.a,{height:"100%",margin:"30px 0 30px",children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(te,{}),Object(a.jsx)("h4",{children:"Your Workouts"}),n?Object(a.jsx)(ae.a,{color:"inherit"}):Object(a.jsx)(T,{columnTitles:b,rows:h})]})}):l?null:Object(a.jsx)(ce.a,{to:"/login"})})]})})})})),se=n(217),le=n(218),ue=n(108),je=n.n(ue),de=Object(s.b)((function(e){return{}}),{})((function(){return Object(a.jsx)("div",{children:Object(a.jsx)(se.a,{style:{backgroundColor:"inherit"},children:Object(a.jsx)(le.a,{label:"test",icon:Object(a.jsx)(je.a,{})})})})})),be=Object(S.a)({theme:{backgroundColor:"#808080"},content:{display:"flex",flexDirection:"column",height:"auto",margin:"30px 25% 30px"}});var he=function(){var e=be();return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(u.a,{height:"100vh",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",children:[Object(a.jsx)(u.a,{className:e.theme,children:Object(a.jsx)(x,{})}),Object(a.jsx)(u.a,{className:e.content,children:Object(a.jsx)(ie,{})}),Object(a.jsx)(u.a,{className:e.theme,children:Object(a.jsx)(de,{})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=n(49),xe=n(109),fe={workouts:[],loading:!1},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.a.request:return Object.assign({},e,{loading:!0});case J.a.success:return Object.assign({},e,{workouts:t.payload,loading:!1});case J.a.error:return Object.assign({},e,{loading:!1});default:return e}},pe={user:"",loginFailed:!1},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.a.request:case j.a.success:return Object.assign({},e,{user:t.payload});case j.a.error:return Object.assign({},e,{loginFailed:!0});case j.b:return Object.assign({},e,{user:"",loginFailed:!1});default:return e}},ve=Object(Oe.c)({workouts:ge,users:me}),we=n(110),ke=Object(xe.createLogger)({collapsed:!0}),ye=Object(Oe.d)(ve,Object(Oe.a)(we.a,ke)),Se=n(111),Ce=n(219),Te=n(65),Ne=Object(Se.a)();i.a.render(Object(a.jsx)(d.a,{domain:"mpaustin.us.auth0.com",clientId:"UjDu5lV6rCJaL6Ss7sOwLZbkyI4TdFO1",redirectUri:window.location.origin+"/workouts",audience:"api.traintracker.com",scope:"read:workouts",children:Object(a.jsx)(Ce.a,{theme:Ne,children:Object(a.jsx)(s.a,{store:ye,children:Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Te.a,{children:Object(a.jsx)(he,{})})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(19),c=n.n(a),r=n(34),o=n(54),i=n.n(o),s=(n(22),{request:"GET_WORKOUTS_REQUEST",success:"GET_WORKOUTS_SUCCESS",error:"GET_WORKOUTS_ERROR"}),l=function(e,t){return function(){var n=Object(r.a)(c.a.mark((function n(a){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:s.request}),i.a.get("/workouts",{params:{user:e},headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){a({type:s.success,payload:e.data})})).catch((function(e){a({type:s.error})}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},38:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return d}));var a=n(19),c=n.n(a),r=n(34),o=n(54),i=n.n(o),s=n(35),l={request:"LOG_IN_REQUEST",success:"LOG_IN_SUCCESS",error:"LOG_IN_ERROR"},u="LOG_OUT",j=function(t){var n=t.username,a=t.password;return function(){var t=Object(r.a)(c.a.mark((function t(r){var o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:l.request}),o="".concat(n,":").concat(a),u=e.from(o,"binary").toString("base64"),i.a.get("/logIn",{headers:{Authorization:"Basic ".concat(u)}}).then((function(e){r({type:l.success,payload:n})})).then((function(e){r(Object(s.b)(n))})).catch((function(e){r({type:l.error})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:u});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}).call(this,n(92).Buffer)}},[[162,1,2]]]);
//# sourceMappingURL=main.f1a70aad.chunk.js.map